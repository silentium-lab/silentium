function n(...n){const t=new Set(Object.keys(n)),e=new Set;return function(r){const o={};Object.entries(n).forEach((([n,u])=>{t.add(n),u((function(u){e.add(n),o[n]=u,((n,t)=>n.size>0&&n.size===t.size)(e,t)&&r(Object.values(o))}))}))}}function t(...n){return function(t){n.forEach((n=>{n(t)}))}}function e(n,t){return function(e){n((function(n){e(t(n))}))}}function r(...n){return function(t){let e;const r=o=>{const u=n[o],i=n[o+1];u((function(n){i||(e=n),e&&t(e),i&&!e&&r(o+1)}))};r(0)}}function o(n,t){return function(e){const r=t(e);n(r)}}function u(n,t,e){return function(r){n((function(n){t(n)?r(n):void 0!==e&&r(e)}))}}function i(t,e,r,o){let u=null;const i=function(n){u&&u(n)};return function(c){u=c;return n(t,e,r)((function([n,t,e]){n?.[e]&&n[e](t,i)})),function(){if(u=null,!o)return;n(t,e,o)((([n,t,e])=>{n?.[e]?.(t,i)}))}}}function c(n,t){return function(e){n.then((function(n){e(n)})).catch((function(n){t?.(n)}))}}const f=n=>null!=n;var s=Object.defineProperty,h=(n,t,e)=>((n,t,e)=>t in n?s(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e)(n,"symbol"!=typeof t?t+"":t,e);class l{constructor(){h(this,"owners"),h(this,"innerOwner"),this.owners=new Set,this.innerOwner=n=>{this.owners.forEach((t=>{t(n)}))}}owner(){return this.innerOwner}size(){return this.owners.size}has(n){return this.owners.has(n)}add(n){return this.owners.add(n),this}remove(n){return this.owners.delete(n),this}destroy(){return this.owners.forEach((n=>{this.remove(n)})),this}}function a(n){let t=null;const e=n=>{f(n)&&t&&t(n)};return{event:function(r){if(t)throw new Error("Late component gets new user, when another was already connected!");t=r,e(n)},use:function(n){e(n)}}}function d(n){return function(t){let e=!1;n((function(n){e||(e=!0,t(n))}))}}function w(n,t=!1){const e=new l;let r;const o=a();return d(o.event)((function(){n((function(n){r=n,e.owner()(n)}))})),{event:function(n){return o.use(1),t||!f(r)||e.has(n)||n(r),e.add(n),()=>{e.remove(n)}},use:function(n){o.use(1),r=n,e.owner()(n)},touched(){o.use(1)},pool:()=>e,destroy(){e.destroy()}}}function v(n,t=!1){const e=w(n.event,t);return{event:function(n){e.event(n)},use:function(t){e.touched(),n.use(t)}}}function y(n){return v(a(n))}function p(n,t){return function(...e){return t(n(...e))}}function E(n,t,e=0){return function(...r){return n(...function(n,t,e){const r=n.slice(0,e);for(;r.length<e;)r.push(void 0);return r.concat(t)}(r,t,e))}}function m(n){const t=[];return{get:function(...e){const r=n(...e);return n=>{if("destroy"in r)t.push(r.destroy),r.event(n);else{const e=r(n);e&&t.push(e)}return()=>{t.forEach((n=>n()))}}},destroy:function(){t.forEach((n=>n()))}}}function b(n,t){let e,r=null;const o=()=>{r=null,e?.()};return{event:function(u){return r=new WeakRef(u),e=n((n=>{r&&r.deref()?.(n)})),e&&t&&t(o),o},destroy:o}}function O(n){return function(t){let e=!1;const r=n((function(n){e||t(n)}));return()=>{e=!0,r?.()}}}function z(n){return function(t){return t(n)}}function g(n,t){return n(t)}function j(){return function(){}}function S(){const n=[];return{add(t){const e=b(t);return n.push(e.destroy),e.event},destroy(){n.forEach((n=>n()))}}}function P(t,e){return function(r){t((function(t){const o=[];t.forEach((n=>{let t=n;"function"!=typeof t&&(t=z(t));const r=e(t);o.push(r)}));n(...o)(r)}))}}function k(n,t=null){return n((function(n){t=n})),{[Symbol.toPrimitive]:()=>t,primitive:()=>t,primitiveWithException(){if(null===t)throw new Error("Primitive value is null");return t}}}function x(n){return function(t){const e=[];n((function(n){e.push(n),t(e)}))}}function W(n){return function(t){n((function(n){n.forEach((n=>{t(n)}))}))}}export{n as All,t as Any,e as Applied,r as Chain,p as ConstructorApplied,E as ConstructorArgs,m as ConstructorDestroyable,S as DestroyContainer,b as Destructor,o as ExecutorApplied,u as Filtered,i as FromEvent,c as FromPromise,a as Late,y as LateShared,O as Local,P as Map,z as Of,g as On,d as Once,l as OwnerPool,k as Primitive,x as Sequence,w as Shared,v as SharedSource,W as Stream,j as Void,f as isFilled};
//# sourceMappingURL=silentium.min.mjs.map
