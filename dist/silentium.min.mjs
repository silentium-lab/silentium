var e=Object.defineProperty,t=(t,s,r)=>((t,s,r)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[s]=r)(t,s+"",r);class s{constructor(...e){t(this,"theDeps"),this.theDeps=e??[]}destroy(){return this.theDeps?.forEach((e=>{(e=>"object"==typeof e&&null!==e&&"destroy"in e)(e)&&e.destroy()})),this}addDep(e){return this.theDeps?.push(e),this}}class r extends s{constructor(e){super(),this.destructor=e}destroy(){return this.destructor(),this}}class i{}class n extends i{constructor(e){super(),this.fn=e}give(e){return this.fn(e),this}}class h extends s{}const a=e=>null!=e;var u=Object.defineProperty,o=(e,t,s)=>((e,t,s)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s)(e,"symbol"!=typeof t?t+"":t,s);class l{constructor(){o(this,"owners"),o(this,"innerOwner"),this.owners=new Set,this.innerOwner=new n((e=>{this.owners.forEach((t=>{t.give(e)}))}))}owner(){return this.innerOwner}size(){return this.owners.size}has(e){return this.owners.has(e)}add(e){return this.owners.add(e),this}remove(e){return this.owners.delete(e),this}destroy(){return this.owners.forEach((e=>{this.remove(e)})),this}}class c extends h{constructor(e){super(e),this.theValue=e}value(e){return a(this.theValue)&&e.give(this.theValue),this}}class d extends s{constructor(e){super(),this.buildFn=e}get(...e){return e.forEach((e=>{this.addDep(e)})),this.buildFn?.(...e)??new c(null)}}var v=Object.defineProperty,b=(e,t,s)=>((e,t,s)=>t in e?v(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s)(e,t+"",s);class w extends h{constructor(e){super(e),this.valueFn=e,b(this,"mbDestructor")}value(e){return this.mbDestructor=this.valueFn(e),this}destroy(){return super.destroy(),this.mbDestructor?.(),this}}class p extends i{give(){return this}}var f=Object.defineProperty,y=(e,t,s)=>((e,t,s)=>t in e?f(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s)(e,"symbol"!=typeof t?t+"":t,s);class g extends h{constructor(...e){super(e),y(this,"keysKnown"),y(this,"keysFilled",new Set),y(this,"infos"),this.infos=e,this.keysKnown=new Set(Object.keys(e))}value(e){const t={};return Object.entries(this.infos).forEach((([s,r])=>{this.keysKnown.add(s),r.value(new n((r=>{this.keysFilled.add(s),t[s]=r,this.isAllFilled()&&e.give(Object.values(t))})))})),this}isAllFilled(){return this.keysFilled.size>0&&this.keysFilled.size===this.keysKnown.size}}var S=Object.defineProperty,x=(e,t,s)=>((e,t,s)=>t in e?S(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s)(e,t+"",s);class m extends h{constructor(...e){super(e),x(this,"infos"),this.infos=e}value(e){return this.infos.forEach((t=>{t.value(e)})),this}}class O extends h{constructor(e,t){super(e),this.baseSrc=e,this.applier=t}value(e){return this.baseSrc.value(new n((t=>{e.give(this.applier(t))}))),this}}var P=Object.defineProperty,V=(e,t,s)=>((e,t,s)=>t in e?P(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s)(e,t+"",s);class j extends h{constructor(...e){super(e),V(this,"theInfos"),this.theInfos=e}value(e){let t;const s=r=>{const i=this.theInfos[r],h=this.theInfos[r+1];i.value(new n((i=>{h||(t=i),t&&e.give(t),h&&!t&&s(r+1)})))};return s(0),this}}class D extends h{constructor(e,t){super(e),this.baseSrc=e,this.applier=t}value(e){return this.baseSrc.value(new n(this.applier((t=>{e.give(t)})))),this}}class F extends h{constructor(e,t,s){super(e),this.baseSrc=e,this.predicate=t,this.defaultValue=s}value(e){return this.baseSrc.value(new n((t=>{this.predicate(t)?e.give(t):void 0!==this.defaultValue&&e.give(this.defaultValue)}))),this}}var k=Object.defineProperty,E=(e,t,s)=>((e,t,s)=>t in e?k(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s)(e,t+"",s);class z extends h{constructor(e,...t){super(e),this.waitForCb=e,E(this,"theArgs"),this.theArgs=t}value(e){return this.waitForCb((t=>{e.give(t)}),...this.theArgs),this}}class A extends h{constructor(e,t,s,r=new c("")){super(e,t,s,r),this.emitterSrc=e,this.eventNameSrc=t,this.subscribeMethodSrc=s,this.unsubscribeMethodSrc=r}value(e){const t=new g(this.emitterSrc,this.eventNameSrc,this.subscribeMethodSrc,this.unsubscribeMethodSrc),s=t=>{e.give(t)};return t.value(new n((([e,t,i,n])=>{e[i](t,s),this.addDep(new r((()=>{e[n](t,s)})))}))),this}}class I extends h{constructor(e,t){super(e),this.p=e,this.errorOwner=t}value(e){return this.p.then((t=>{e.give(t)})).catch((e=>{this.errorOwner?.give(e)})),this}}var K=Object.defineProperty,M=(e,t,s)=>((e,t,s)=>t in e?K(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s)(e,"symbol"!=typeof t?t+"":t,s);class L extends h{constructor(e){super(e),this.theValue=e,M(this,"theOwner"),M(this,"lateOwner",new n((e=>{this.theValue=e,this.notify()})))}value(e){if(this.theOwner)throw new Error("Late component gets new owner, when another was already connected!");return this.theOwner=e,this.notify(),this}owner(){return this.lateOwner}notify(){return a(this.theValue)&&this.theOwner&&this.theOwner.give(this.theValue),this}}class C extends d{constructor(e,t){super(),this.baseLazy=e,this.applier=t}get(...e){return this.applier(this.baseLazy.get(...e))}}class N extends d{constructor(e){super(((...t)=>new e(...t)))}}class q extends h{constructor(e,t){super(e,t),this.baseSrc=e,this.targetSrc=t}value(e){return this.baseSrc.value(new n((t=>{const s=[];t.forEach((e=>{let t=e;t instanceof h||(t=new c(t));const r=this.targetSrc.get(t);s.push(r)}));new g(...s).value(e)}))),this}}class B extends h{constructor(e){super(),this.baseSrc=e}value(e){let t=!1;return this.baseSrc.value(new n((s=>{t||(t=!0,e.give(s))}))),this}}class G extends h{constructor(e){super(e),this.baseSrc=e}value(e){const t=[];return this.baseSrc.value(new n((s=>{t.push(s),e.give(t)}))),this}}var H=Object.defineProperty,J=(e,t,s)=>((e,t,s)=>t in e?H(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s)(e,"symbol"!=typeof t?t+"":t,s);class Q extends h{constructor(e,t=!1){super(e),this.baseSrc=e,this.stateless=t,J(this,"lastValue"),J(this,"ownersPool",new l),this.addDep(this.ownersPool),this.baseSrc.value(new n((e=>{this.ownersPool.owner().give(e),this.lastValue=e})))}value(e){const t=new w((e=>(this.stateless||!a(this.lastValue)||this.ownersPool.has(e)||e.give(this.lastValue),this.ownersPool.add(e),()=>{this.ownersPool.remove(e)})));return t.value(e),this.addDep(t),this}pool(){return this.ownersPool}}class R extends h{constructor(e){super(e),this.baseSrc=e}value(e){return this.baseSrc.value(new n((t=>{t.forEach((t=>{e.give(t)}))}))),this}}export{g as All,m as Any,O as Applied,j as Chain,r as DestroyFunc,s as Destroyable,D as ExecutorApplied,F as Filtered,n as From,z as FromCallback,A as FromEvent,I as FromPromise,L as Late,d as Lazy,C as LazyApplied,N as LazyClass,q as Map,c as Of,w as OfFunc,B as Once,l as OwnerPool,G as Sequence,Q as Shared,R as Stream,h as TheInformation,i as TheOwner,p as Void,a as isFilled};
//# sourceMappingURL=silentium.min.mjs.map
